(()=>{"use strict";var t={20:(t,e,r)=>{var n=r(609),a=Symbol.for("react.element"),i=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};e.jsx=function(t,e,r){var n,s={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)i.call(e,n)&&!l.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===s[n]&&(s[n]=e[n]);return{$$typeof:a,type:t,key:c,ref:u,props:s,_owner:o.current}}},848:(t,e,r)=>{t.exports=r(20)},609:t=>{t.exports=window.React}},e={};function r(n){var a=e[n];if(void 0!==a)return a.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}var n=r(609);const a=window.wp.compose,i=window.wp.blockEditor,o=window.wp.components,l=window.wp.element,s=(0,l.forwardRef)((function({icon:t,size:e=24,...r},n){return(0,l.cloneElement)(t,{width:e,height:e,...r,ref:n})})),c=window.wp.primitives;var u=r(848);const p=(0,u.jsx)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(c.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})}),m=window.wp.hooks,b=window.wp.data;function d(t,e,r){return t?Object.keys(t).reduce(((n,a)=>(a===e?n[r]=t[e]:n[a]=t[a],n)),{}):t}function w(t,e){return Object.keys(t).reduce(((r,n)=>(n!==e&&(r[n]=t[n]),r)),{})}(0,m.addFilter)("blocks.registerBlockType","attributeCommander/attribute",(function(t){return t.attributes&&(t.attributes.attributesMap={type:"object",default:{}}),t}));const h=(0,a.createHigherOrderComponent)((t=>e=>e.isSelected?(0,b.useSelect)((t=>{const{canMoveBlock:r,canRemoveBlock:n,getBlockRootClientId:a}=t("core/block-editor"),i=a(e.clientId),o=r(e.clientId,i),l=n(e.clientId,i);return!o||!l}))?(0,n.createElement)(t,{...e}):(0,n.createElement)(n.Fragment,null,(0,n.createElement)(t,{key:"edit",...e}),(0,n.createElement)(i.InspectorControls,null,(0,n.createElement)(o.PanelBody,{title:"HTML Attributes"},Object.entries(e.attributes.attributesMap).map((([t,r])=>(0,n.createElement)("div",{key:t},(0,n.createElement)(o.__experimentalHStack,{alignment:"top"},(0,n.createElement)(o.TextControl,{value:t,style:{height:"24px",minHeight:"24px"},onChange:n=>{Object.keys(e.attributes.attributesMap).includes(n)||e.setAttributes({attributesMap:n||0!==Object.entries(r).length?d(e.attributes.attributesMap,t,n):w(e.attributes.attributesMap,t)})}}),(0,n.createElement)(o.Button,{variant:"secondary",size:"small",onClick:()=>{e.setAttributes({attributesMap:{...e.attributes.attributesMap,[t]:{...r,"new-key":"new-value"}}})}},"Add attribute")),(0,n.createElement)("div",{style:{marginTop:"-24px",marginBottom:"32px"}},(0,n.createElement)(o.TextControl,{style:{height:"24px",minHeight:"24px"},value:Object.entries(r).map((([t,e])=>null===e?`${t}=""`:""===e?t:`${t}="${e}"`)).join(" ")||"",onChange:r=>{let n=[];r&&(n=r.match(/(?:[^\s"]+|"[^"]*")+/g).map((t=>t.endsWith("=")?[t.replace("=",""),null]:t.includes("=")?t.split("="):[t,""])).map((([t,e])=>null===e?[t,e]:e?[t,e.replace(/"/g,"").trim()]:[t,""])))," "===r[r.length-1]&&n.push(["",""]),e.setAttributes({attributesMap:{...e.attributes.attributesMap,[t]:Object.fromEntries(n)}})}})),Object.entries(r).map((([a,i])=>(0,n.createElement)("div",{key:a,style:{marginTop:"-24px"}},(0,n.createElement)(o.__experimentalHStack,{alignment:"top"},(0,n.createElement)(o.TextControl,{style:{height:"24px",minHeight:"24px"},value:a,onChange:n=>{Object.keys(r).includes(n)||e.setAttributes({attributesMap:{...e.attributes.attributesMap||{},[t]:n||i?d(r,a,n):w(r,a)}})}}),(0,n.createElement)(o.TextControl,{style:{height:"24px",minHeight:"24px"},value:i,onChange:n=>{const i={...e.attributes.attributesMap||{},[t]:{...r,[a]:n}};e.setAttributes({attributesMap:i})}}),(0,n.createElement)(o.Button,{variant:"tertiary",size:"small",onClick:()=>{e.setAttributes({attributesMap:{...e.attributes.attributesMap,[t]:w(r,a)}})}},(0,n.createElement)(s,{icon:p}))))))))),(0,n.createElement)(o.Button,{variant:"secondary",size:"small",onClick:()=>{e.setAttributes({attributesMap:{...e.attributes.attributesMap||{},"new-locator":{"new-key":"new-value"}}})}},"Add locator")))):(0,n.createElement)(t,{...e})),"withAttributeControls");(0,m.addFilter)("editor.BlockEdit","attributeCommander/controls",h)})();